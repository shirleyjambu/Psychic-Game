<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">
    <title>Psychic Game</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h2> Guess what letter I'm thinking of ???? </h2>
            </div>
        </div>
        <!-- Wins -->
        <div class="row">
            <div class="col-3">
                Wins :
            </div>
            <div class="col-9">
                <span id="usrWin">0</span>
            </div>
        </div>
        <!-- Losses -->
        <div class="row">
            <div class="col-3">
                Losses :
            </div>
            <div class="col-9">
                <span id="usrLoss">0</span>
            </div>
        </div>
        <!-- Guesses Left -->
        <div class="row">
            <div class="col-3">
                Guesses Left :
            </div>
            <div class="col-9">
                <span id="usrGuessCount">10</span>
            </div>

        </div>
        <!-- Alphabets Typed in-->
        <div class="row">
            <div class="col-3">
                Your Guesses so far :
            </div>
            <div class="col-9">
                <span id="usrGuessList"></span>
            </div>
        </div>
        <!-- Message -->
        <div class="row">
            <div class="col-12">
                <span id="usrMsg"></span>
            </div>
        </div>
    </div>

    <script>
        // Intialize
        var winCount = 0;
        var lossCount = 0;
        var guessesLeft = 10;
        var alphabets = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's','t', 'u', 'v', 'w', 'x', 'y', 'z'
        ];

        // Setting up elements
        $usrMsg = document.getElementById("usrMsg");
        $usrGuessList = document.getElementById("usrGuessList");
        $usrGuessCount = document.getElementById("usrGuessCount");
        $usrWin = document.getElementById("usrWin");
        $usrLoss = document.getElementById("usrLoss");

        // Pick a random letter
        var rdmAlphabet = alphabets[Math.floor(Math.random() * alphabets.length)];
        var allGuesses = "";
        var keyEntered = "";
        $usrMsg.textContent = "";

        // When user types in a key
        document.onkeyup = function (event) {
            keyEntered = event.key;
            // Until Number of guesses less than 10
            if (guessesLeft > 0 && guessesLeft <= 10) {
                // set the content of all guesses using id
                $usrMsg.textContent = "";
                allGuesses = $usrGuessList.textContent;
                $usrGuessList.textContent = allGuesses + " " + keyEntered;

                // Decrement the counter, set the counter value
                guessesLeft--;
                $usrGuessCount.textContent = guessesLeft;

                // if the keys entered match the random alphabet, set message, increment win count, clear user guesses, set the win count
                if (keyEntered.toLowerCase() === rdmAlphabet.toLowerCase()) {
                    winCount++;
                    $usrMsg.innerHTML = "<br><h4> You Win !!! It was a '" + rdmAlphabet + "' . Start Again </h4>";
                    $usrWin.textContent = winCount;
                    $usrGuessList.textContent = "";
                    guessesLeft = 10;
                    rdmAlphabet = alphabets[Math.floor(Math.random() * alphabets.length)];
                }
                // else set user msg, intialise elements for starting another game
            } else {
                lossCount++;
                $usrMsg.innerHTML = "<br><h4> You Lose !!! It was a '" + rdmAlphabet + "' . Start Again </h4>";

                $usrLoss.textContent = lossCount;
                $usrGuessList.textContent = "";
                guessesLeft = 10;
                rdmAlphabet = alphabets[Math.floor(Math.random() * alphabets.length)];
            }
        }
    </script>






    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.13.0/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
</body>

</html>